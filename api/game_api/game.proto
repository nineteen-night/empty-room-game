syntax = "proto3";

package game.service.v1;
option go_package = "github.com/nineteen-night/empty-room-game/internal/game/pb/game_api";

import "models/game_model.proto";
import "google/api/annotations.proto";

service GameService {
    rpc GetGameState (GetGameStateRequest) returns (GetGameStateResponse) {
        option (google.api.http) = {
            get: "/game/{partnership_id}/state"
        };
    }

    rpc MoveToNextRoom (MoveToNextRoomRequest) returns (MoveToNextRoomResponse) {
        option (google.api.http) = {
            post: "/game/{partnership_id}/move"
            body: "*"
        };
    }
}

message GetGameStateRequest {
    string partnership_id = 1;
}

message GetGameStateResponse {
    game.models.v1.GameState game_state = 1;
}

message MoveToNextRoomRequest {
    string partnership_id = 1;
}

message MoveToNextRoomResponse {
    game.models.v1.GameState new_game_state = 1;
}